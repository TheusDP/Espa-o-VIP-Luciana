    <html>
    <head>
        <title>Menu de Procedimentos</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
        <style>
            body {
                font-family: Arial, sans-serif;
                background-color: #f5f0e6;
                margin: 0;
                padding: 0;
            }
            .container {
                width: 80%;
                margin: 0 auto;
                padding: 20px;
            }
            .header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 10px 0;
            }
            .header a {
                text-decoration: none;
                color: #6a0dad;
                font-size: 16px;
            }
            .header a:hover {
                text-decoration: underline;
            }
            .title {
                text-align: center;
                font-size: 24px;
                font-weight: bold;
                margin-bottom: 20px;
            }
            .procedures {
                display: flex;
                flex-wrap: wrap;
                justify-content: space-between;
            }
            .procedure {
                background-color: white;
                border-radius: 5px;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                width: 30%;
                margin-bottom: 20px;
                padding: 20px;
                box-sizing: border-box;
            }
            .procedure h3 {
                margin-top: 0;
                font-size: 18px;
                font-weight: bold;
            }
            .procedure p {
                margin: 5px 0;
            }
            .procedure button {
                background-color: black;
                color: white;
                border: none;
                padding: 10px;
                border-radius: 5px;
                cursor: pointer;
            }
            .procedure button:hover {
                background-color: #333;
            }
            .footer {
                display: flex;
                justify-content: flex-end;
                padding: 10px 0;
            }
            .footer button {
                display: flex;
                align-items: center;
                background-color: white;
                border: 1px solid black;
                padding: 5px 10px;
                border-radius: 5px;
                cursor: pointer;
            }
            .footer button i {
                margin-right: 5px;
            }
            /* Popup styles */
            .popup {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                justify-content: center;
                align-items: center;
            }
            .popup-content {
                background-color: #fff;
                padding: 20px;
                border-radius: 5px;
                width: 400px;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            }
            .popup-content .header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                border-bottom: 1px solid #ddd;
                padding-bottom: 10px;
                margin-bottom: 20px;
            }
            .popup-content .header h1 {
                font-size: 20px;
                margin: 0;
            }
            .popup-content .header .close {
                font-size: 20px;
                cursor: pointer;
            }
            .popup-content .service-box {
                border: 1px solid #ddd;
                padding: 10px;
                margin-bottom: 20px;
                position: relative;
            }
            .popup-content .service-box p {
                margin: 5px 0;
            }
            .popup-content .service-box .delete-btn {
                position: absolute;
                top: 10px;
                right: 10px;
                background: none;
                border: none;
                cursor: pointer;
                color: red;
                font-size: 16px;
            }
            .popup-content .add-service {
                display: flex;
                justify-content: center;
                align-items: center;
                border: 1px solid #000;
                padding: 10px;
                cursor: pointer;
                margin-bottom: 20px;
            }
            .popup-content .add-service i {
                margin-right: 10px;
            }
            .popup-content .footer {
                display: flex;
                justify-content: center;
            }
            .popup-content .footer button {
                background-color: #000;
                color: #fff;
                border: none;
                padding: 10px 20px;
                cursor: pointer;
                font-size: 16px;
            }
            /* Second Popup styles */
            .second-popup {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                justify-content: center;
                align-items: center;
            }
            .second-popup-content {
                background-color: #fff;
                padding: 20px;
                border-radius: 5px;
                width: 400px;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            }
            .second-popup-content .header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 15px;
                border-bottom: 1px solid #ccc;
            }
            .second-popup-content .header h2 {
                margin: 0;
                font-size: 18px;
            }
            .second-popup-content .header .close {
                font-size: 18px;
                cursor: pointer;
            }
            .second-popup-content .content {
                padding: 15px;
            }
            .second-popup-content .service-item {
                padding: 20px 0;
            }
            .second-popup-content .service-item label {
                display: flex;
                align-items: center;
                cursor: pointer;
            }
            .second-popup-content .service-item input[type="radio"] {
                margin-right: 10px;
            }
            .second-popup-content .service-item .price {
                margin-left: auto;
                font-size: 14px;
                color: #666;
            }
            .second-popup-content .accordion {
                border: none;
                background: none;
                width: 100%;
                text-align: left;
                padding: 10px 0;
                font-size: 16px;
                cursor: pointer;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            .second-popup-content .footer {
                display: flex;
                justify-content: space-between;
                padding: 15px;
                border-top: 1px solid #ccc;
            }
            .second-popup-content .footer button {
                padding: 10px 20px;
                border: none;
                cursor: pointer;
                font-size: 16px;
            }
            .second-popup-content .footer .back {
                background-color: #fff;
                color: #000;
            }
            .second-popup-content .footer .next {
                background-color: #000;
                color: #fff;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="header">
                <a href="index.html">&#x3c; Voltar</a>
            </div>
            <div class="title">Menu de Procedimentos</div>
            <div class="procedures">
                <div class="procedure">
                    <h3>Corte com Escova</h3>
                    <p>1 - 2h</p>
                    <p>R$ 90</p>
                    <button onclick="openPopup('Corte com Escova', '1 - 2h', 'R$ 90')">Agendar agora</button>
                </div>
                <div class="procedure">
                    <h3>Tintura com Escova</h3>
                    <p>2h</p>
                    <p>R$ 140</p>
                    <button onclick="openPopup('Tintura com Escova', '2h', 'R$ 140')">Agendar agora</button>
                </div>
                <div class="procedure">
                    <h3>Mecha/Luzes</h3>
                    <p>5 - 7h</p>
                    <p>A partir de R$ 400</p>
                    <button onclick="openPopup('Mecha/Luzes', '5 - 7h', 'A partir de R$ 400')">Agendar agora</button>
                </div>
                <div class="procedure">
                    <h3>Progressiva</h3>
                    <p>4 - 5h</p>
                    <p>A partir de R$ 400</p>
                    <button onclick="openPopup('Progressiva', '4 - 5h', 'A partir de R$ 400')">Agendar agora</button>
                </div>
                <div class="procedure">
                    <h3>Botox/Celagem</h3>
                    <p>3 - 4h</p>
                    <p>A partir de R$ 150</p>
                    <button onclick="openPopup('Botox/Celagem', '3 - 4h', 'A partir de R$ 150')">Agendar agora</button>
                </div>
                <div class="procedure">
                    <h3>Tratamentos</h3>
                    <p>2 - 3h</p>
                    <p>A partir de R$ 100</p>
                    <button onclick="openPopup('Tratamentos', '2 - 3h', 'A partir de R$ 100')">Agendar agora</button>
                </div>
            </div>
            <div class="footer">
                <button>
                    <i class="fab fa-whatsapp"></i>
                    <span>Vamos conversar</span>
                </button>
            </div>
        </div>

        <!-- Popup -->
        <div class="popup" id="popup">
            <div class="popup-content">
                <div class="header">
                    <h1>Seu agendamento</h1>
                    <span class="close" onclick="closePopup()">&times;</span>
                </div>
                <div class="service-box" id="service-box">
                    <p id="service-name"></p>
                    <p>Rua Sarandi, 22, Vila Bela</p>
                    <p id="service-duration-price"></p>
                </div>
                <div id="additional-services"></div>
                <p>Gostaria de adicionar outro serviço a este agendamento?</p>
                <div class="add-service" onclick="openSecondPopup()">
                    <i class="fas fa-plus"></i>
                    <span>Adicionar serviço</span>
                </div>
                <div class="footer">
                    <button onclick="redirectToSchedule()">Selecionar data e horário</button>
                </div>
            </div>
        </div>

        <!-- Second Popup -->
        <div class="second-popup" id="second-popup">
            <div class="second-popup-content">
                <div class="header">
                    <h2>Selecione outro serviço</h2>
                    <span class="close" onclick="closeSecondPopup()">&times;</span>
                </div>
                <div class="content">
                    <div class="service-item" style="display: block;">
                        <label>
                            <input type="radio" name="service" value="Corte com Escova">
                            Corte com Escova
                            <span class="price">1 - 2h • R$ 90</span>
                        </label>
                    </div>
                    <div class="service-item">
                        <label>
                            <input type="radio" name="service" value="Tintura com Escova">
                            Tintura com Escova
                            <span class="price">2h • R$ 140</span>
                        </label>
                    </div>
                    <div class="service-item">
                        <label>
                            <input type="radio" name="service" value="Mecha/Luzes">
                            Mecha/Luzes
                            <span class="price">5 - 7h • A partir de R$ 400</span>
                        </label>
                    </div>
                    <div class="service-item">
                        <label>
                            <input type="radio" name="service" value="Progressiva">
                            Progressiva
                            <span class="price">4 - 5h • A partir de R$ 400</span>
                        </label>
                    </div>
                    <div class="service-item">
                        <label>
                            <input type="radio" name="service" value="Botox/Celagem">
                            Botox/Celagem
                            <span class="price">3 - 4h • A partir de R$ 150</span>
                        </label>
                    </div>
                    <div class="service-item" style="display: block;">
                        <label>
                            <input type="radio" name="service" value="Tratamentos">
                            Tratamentos
                            <span class="price">2 - 3h • A partir de R$ 100</span>
                        </label>
                    </div>
                </div>
                <div class="footer">
                    <button class="back" onclick="closeSecondPopup()">Voltar</button>
                    <button class="next" onclick="addServiceToPopup()">Próximo</button>
                </div>
            </div>
        </div>

        <script>
            function openPopup(serviceName, serviceDuration, servicePrice) {
                const mainServiceName = document.getElementById('service-name').innerText;
                if (mainServiceName && mainServiceName === serviceName) {
                    alert('Este serviço já foi selecionado como serviço principal.');
                    return;
                }
                document.getElementById('service-name').innerText = serviceName;
                document.getElementById('service-duration-price').innerText = serviceDuration + ' • ' + servicePrice;
                document.getElementById('popup').style.display = 'flex';
            }

            function closePopup() {
                document.getElementById('popup').style.display = 'none';
            }

            function openSecondPopup() {
                document.getElementById('second-popup').style.display = 'flex';
            }

            function closeSecondPopup() {
                document.getElementById('second-popup').style.display = 'none';
            }

            function addServiceToPopup() {
                const selectedService = document.querySelector('input[name="service"]:checked');
                if (selectedService) {
                    const serviceName = selectedService.value;
                    const serviceDetails = selectedService.nextElementSibling.innerText;

                    // Check if the service is already added
                    const existingServices = document.querySelectorAll('#additional-services .service-box p:first-child');
                    for (let service of existingServices) {
                        if (service.innerText === serviceName) {
                            alert('Este serviço já foi adicionado.');
                            return;
                        }
                    }

                    // Check if the service is the main service
                    const mainServiceName = document.getElementById('service-name').innerText;
                    if (mainServiceName === serviceName) {
                        alert('Este serviço já foi selecionado como serviço principal.');
                        return;
                    }

                    const serviceBox = document.createElement('div');
                    serviceBox.className = 'service-box';
                    serviceBox.innerHTML = `
                        <p>${serviceName}</p>
                        <p>Rua Sarandi, 22, Vila Bela</p>
                        <p>${serviceDetails}</p>
                        <button class="delete-btn" onclick="removeService(this)"><i class="fas fa-trash"></i></button>
                    `;

                    document.getElementById('additional-services').appendChild(serviceBox);
                    closeSecondPopup();
                }
            }

            function removeService(button) {
                const serviceBox = button.parentElement;
                serviceBox.remove();
            }
            function redirectToSchedule() {
    const serviceName = document.getElementById('service-name').innerText;
    const serviceDurationPrice = document.getElementById('service-duration-price').innerText;
    const additionalServices = [];
    document.querySelectorAll('#additional-services .service-box').forEach(serviceBox => {
        const service = {
            name: serviceBox.querySelector('p:first-child').innerText,
            details: serviceBox.querySelector('p:nth-child(3)').innerText
        };
        additionalServices.push(service);
    });

    localStorage.setItem('serviceName', serviceName);
    localStorage.setItem('serviceDurationPrice', serviceDurationPrice);
    localStorage.setItem('additionalServices', JSON.stringify(additionalServices));

    window.location.href = 'Calendario.html';

    
}
        </script>
    </body>
    </html>